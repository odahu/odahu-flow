kind: ModelTraining
id: reuters-classifier-mlflow-gpu-not-default
spec:
  model:
    name: reuters-classifier
    version: 1.0
    artifactNameTemplate: 'reuters-mlflow-gpu-not-default-1.0.zip'
  toolchain: mlflow-gpu  # MLFlow training toolchain integration
  entrypoint: main
  workDir: mlflow/tensorflow/reuters_classifier # MLproject location (in GitHub)
  hyperParameters:
    maxwords: "999"
  data:
    - connName: models-output
      localPath: mlflow/tensorflow/reuters_classifier/data/
      remotePath: /reuters/
  resources:
    limits:
      cpu: 3
      memory: 2Gi
      gpu: 1
    requests:
      cpu: 3
      memory: 2Gi
      gpu: 1
  algorithmSource:
    vcs:
      connName: odahu-flow-examples