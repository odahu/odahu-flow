kind: Connection
id: bulk-test-conn-1
spec:
  keySecret: a2VrCg==
  reference: origin/develop
  type: git
  uri: git@github.com:odahu-flow-platform/odahuflow.git
---
kind: Connection
id: bulk-test-conn-2
spec:
  keySecret: a2VrCg==
  reference: origin/develop
  type: git
  uri: git@github.com:odahu-flow-platform/odahuflow.git
---
kind: ToolchainIntegration
id: bulk-test-ti-1
spec:
  additionalEnvironments:
    TEST: test
  defaultImage: image:123
  entrypoint: "/binary"
---
kind: ToolchainIntegration
id: bulk-test-ti-2
spec:
  additionalEnvironments:
    TEST: test
  defaultImage: image:123
  entrypoint: "/binary"
---
kind: PackagingIntegration
id: bulk-test-pi-1
spec:
  defaultImage: image
  entrypoint: "/binary"
  schema:
    targets:
      - connectionTypes:
          - docker
        name: docker-push
        required: true
      - connectionTypes:
          - docker
        name: docker-pull
        required: false
      - connectionTypes:
          - s3
          - gcs
        name: archive-storage
        required: false
---
kind: ModelTraining
id: bulk-test-mt-1
spec:
  model:
    name: bulk-test-mt-1
    version: 'test'
  toolchain: mlflow
  entrypoint: main
  algorithmSource:
    vcs:
      connection: odahu-flow-examples
      reference: develop
  dataNotRequired: true
---
kind: ModelPackaging
id: bulk-test-mp-1
spec:
  artifactName: counter.zip
  integrationName: docker-rest
---
kind: ModelPackaging
id: bulk-test-mp-2
spec:
  artifactName: simple-model.zip
  integrationName: docker-rest
---
kind: ModelDeployment
id: bulk-test-md-1
spec:
  image:
  predictor: odahu-ml-server
  imagePullConnID: docker-ci
